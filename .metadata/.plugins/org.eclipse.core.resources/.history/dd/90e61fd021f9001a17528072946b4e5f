/*
 * STM32F407xx_USART_UART_Driver.h
 *
 *  Created on: Sep 16, 2020
 *      Author: Donavan Tran
 */

#ifndef INC_STM32F407XX_USART_UART_DRIVER_H_
#define INC_STM32F407XX_USART_UART_DRIVER_H_

/***************************USART_CONFIG_MACROS******************/
/*
 * USART_MODE macros
 */
#define USART_MODE_ASYNC		0U
#define USART_MODE_SYNC			1U




/****************************************************************/
/*
 * Configuration structure of USART
 */
typedef struct {
	uint32_t BaudRate;
	uint8_t Mode;	//See @USART_MODE macros for details
	uint8_t NoOfStopBits;
	uint8_t WordLength;
	uint8_t ParityControl;
	uint8_t HWFlowControl;
	uint8_t Oversampling;
} USART_Config_t;

/*
 * Handle structure of USART
 */
typedef struct {
	USART_Reg_t* pUSARTx;
	USART_Config_t USART_Config;
} USART_Handle_t;

/*******************************USART_API************************/

/*
 * Peripheral clock control
 */
void USART_PeriClkCtrl(USART_Reg_t* pUSARTx, uint8_t EnOrDi);

/*
 * USART initialization and de-initialization
 * Parameter: Pointer to the USART Handle Structure
 */
void USART_Init(USART_Handle_t* pUSARTHandler);

/* Consult the RCC Peripheral reset registers for more details*/
void USART_DeInit(USART_Reg_t* pUSARTx);

/*
 * Enable the USART/UART peripherals
 */
void USART_PeripheralEnable(USART_Reg_t* pUSARTx, uint8_t EnOrDi);


#endif /* INC_STM32F407XX_USART_UART_DRIVER_H_ */
