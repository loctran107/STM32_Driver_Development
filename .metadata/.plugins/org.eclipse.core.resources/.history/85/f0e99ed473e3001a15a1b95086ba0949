/*
 * gpio_driver.h
 *
 *  Created on: Aug 18, 2020
 *      Author: Donavan Tran
 *      Description: This header file contains specific details
 *      			 related to the GPIO peripherals of the STM32F407xx
 */

#ifndef INC_GPIO_DRIVER_H_
#define INC_GPIO_DRIVER_H_
#include <stdlib.h>
#include "stm32f407xx.h"


/*
 * Configuration structure of the GPIO pins
 */
typedef struct {
	uint8_t GPIO_PinNumber;
	uint8_t GPIO_PinMode;
	uint8_t GPIO_PinSpeed;
	uint8_t GPIO_PinPuPdCtrl;
	uint8_t GPIO_PinOPType;
	uint8_t GPIO_PinAltFuncMode;
} GPIO_PinConfig_t;

/*
 * Handle structure for GPIO pins
 */
typedef struct {

	/* Pointer to hold the base address of the GPIO peripherals*/
	GPIO_Reg_t* pGPIOx; //This holds the base address of the GPIO port which the pins belong to
	GPIO_PinConfig_t GPIO_PinConfig; //configure structure of the GPIO pin

} GPIO_Handle_t;

/*****************************************************************************************************
 *									API SUPPORTED FOR THIS GPIO DRIVER 								 *
 *				For more information about this API, check the function description.				 *
 *****************************************************************************************************/

/* GPIO Function Prototype Declaration */

/*
 * Peripheral clock control
 */
void GPIO_PeriClkCtrl(void);

/*
 * GPIO initalization and deinitialization
 */
void GPIO_Init(void);
void GPIO_DeInit(void);

/*
 * GPIO Data Read/Write
 */
void GPIO_ReadFromInputPin(void);
void GPIO_ReadFromInputPort(void);
void GPIO_WriteToOutputPin(void);
void GPIO_WriteToOutputPort(void);

/*
 * GPIO Toggle Output pin
 */
void GPIO_ToggleOutputPin(void);

/*
 * GPIO Interrupt Configuration and Handling
 */
void GPIO_IRQConfig(void);
void GPIO_IRQHandling(void);






#endif /* INC_GPIO_DRIVER_H_ */
