/*
 * 009SPIMasterArduinoSlave.c
 *
 *  Created on: Aug 29, 2020
 *      Author: Donavan Tran
 *      Description: SPI Master (STM) and SPI Slave (Arduino) communication
 *      		  	 When the button on the master is pressed, master should send string
 *      		  	 of data to the Arduino slave connected. The data received by
 *      		  	 the Arduino will be displayed on the Arduino serial port
 *      		  	 1. Use full SPI full duplex mode
 *      		  	 2. ST board will be in SPI master mode and Arduino will be
 *      		  	    configured for SPI Slave mode
 *      		  	 3. Use DFF = 0;
 *      			 4. Use hardware slave management (SSM = 0)
 *
 *      			 Note: In this exercise, master is not going to receive anything from the slave.
 *      			       Thus, the master's MISO can be disabled
 *
 *      			  	   Slave does not know how many bytes of data master is going to send.
 *      			  	   So master first sends the number bytes info which slaves is going to
 *      			  	   receive next.
 */

#include "../drivers/Inc/stm32f407xx.h"
int main(void) {

	//Define handle structure for GPIO button, GPIO for SPI, and SPI1
	GPIO_Handle_t GPIO_Button, SPI_GPIO;
	SPI_Handle_t SPI_Master;

	//Initialize GPIO button
	GPIO_ButtonInit();
	SPI_GPIOInit();
	SPI_MasterInit();

	while (1);

	return EXIT_SUCCESS;
}
