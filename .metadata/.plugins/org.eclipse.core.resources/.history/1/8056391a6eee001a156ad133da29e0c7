/*
 * STM32F407xx_I2C_Driver.h
 *
 *  Created on: Sep 3, 2020
 *      Author: Donavan Tran
 */

#ifndef INC_STM32F407XX_I2C_DRIVER_H_
#define INC_STM32F407XX_I2C_DRIVER_H_

/*
 * @I2C_MODE_SELECTION macros
 */
#define I2C_MODE_SLAVE_TX;  //Slave Transmitter
#define I2C_MODE_SLAVE_RX;  //Slave Receiver
#define I2C_MODE_MASTER_TX; //Master Transmitter
#define I2C_MODE_MASTER_RX; //Master Receiver

/*
 * @I2C_BUS_FREQ_MODE macros
 * Note: STM32F407xx only supports either standard or fast mode
 */
#define I2C_BUS_FREQ_SM;	//Standard Mode
#define I2C_BUS_FREQ_FM;	//Fast Mode

/*
 * @I2C_ADDRESSING_MODE macros
 */
#define I2C_ADDR_MODE_7_BIT			0U
#define I2C_ADDR_MODE_10_BIT		1U

/****************************************************************************************/
/*
 * I2C configuration structure
 */
typedef struct {
	uint8_t Mode;				//Note: by default, I2C operates in Slave mode. See @I2C_MODE_SELECTION macro
	uint8_t BusFrequencyMode;	//See @I2C_BUS_FREQ_MODE macros for more details
	uint8_t PeriClkFreq;		//2MHz-50MHz
	uint8_t AddressingMode;		//See @I2C_ADDRESSING_MODE macros for more details
} I2C_Config_t;

/*
 * Handle structure of I2C peripherals
 */
typedef struct {
	I2C_Reg_t*		pI2Cx; 		//I2Cx peripheral base address
	I2C_Config_t	I2C_Config;	//I2C configuration structure
} I2C_Handle_t;


#endif /* INC_STM32F407XX_I2C_DRIVER_H_ */
